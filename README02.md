## 107. ユーザー管理をしよう

+ wp管理画面 => `ユーザー` => `新規追加` => `ユーザー名` => `tacker_user_001`と入力してみる => `メール` => `takaki55730317@gmail.com`と入力してみる(下記へ続く)<br>

+ `名`(入れても入れなくてもどちらでも良い) => `たかき`と入力してみる => `姓`(必須ではない) => `なかむら` => `サイト`(必須ではない 今回は入れない) => `言語` => `サイトデフォルと` => `パスワード`（生成されてるものがいいと思う) => `e29Z1%UhFvz0)z%^a$Rq$e5)` => `ユーザーに通知を送信` => `チェックを入れたままで良いが開発環境ではメールは届かない` => `権限グループ` => `管理者` => `新規ユーザーを追加`<br>

+ ユーザーは作成する時と編集するときの項目が変わる<br>

+ wp管理画面 => `ユーザー` => `tacker_user_001` => `ニックネーム` => `たかちゃん` => `ブログ上の表示名` => `たかちゃん`(サイトの著者名の部分がこれに変わる) => `ユーザーを更新`<br>

+ ログアウトして今作成したユーザーでログインしてみる<br>

## 108. Gravatarでアバター画像を設定しよう

+ wp管理画面 => `ユーザー` => `Gravatarでプロフィール画像の変更が可能です。` => `Gravatarを作成` => `新規アカウント`を作成して => `画像アップロード`して反映される<br>

+ Gravatarを使わない方法でプロフィール画像を設定するには wp管理画面 => `プラグイン` => `新規追加` => `キーワード` => `simple local avatars`と入力 => `Simple Local Avatars` => `今すぐインストール` => `有効化`(下記へ続く<br>

+ `ユーザー` => `takaproject777@gmail.com` => `Avatar` => `Upload Avatar` => `Choose from Media Library` => `自由に画像を設定できる` => `ユーザーを更新`<br>

+ Gravatarで指定している画像よりも優先される<br>

## 109. 著者別アーカイブページのアドレスを変更しよう

+ 記事の詳細にアクセスすると`作成者` => `tacker_admin`があるがそれをクリックするとTOPページに戻ってしまうがそれを`wp管理画面` => `SEO PACK` => `一般設定` => `その他アーカイブ` => `「著者」のアーカイブページを使用しない` => `いいえ`を選択 => `設定を保存`して`tacker_admin`にアクセスすると投稿者の記事の一覧が表示されるようになる<br>

+ 上記のURLは `http://localhost/blog/author/tacker_admin/`になっている(tacker_adminは管理者ユーザー名であり、パスワードを解析されると非常に危険である)<br>

+ そのことにより`tacker_admin`は知られないようにすることが重要になってくる<br>

+ wp管理画面 => `プラグイン` => `新規追加` => `キーワード` => `edit author slug` => `Edit Author Slug` => `今すぐインストール` => `有効化` <br>

+ wp管理画面 => `ユーザー` => `tacker_admin` => `編集` => `投稿者スラッグ編集` => `投稿者スラッグ` => `カスタム設定` => `1`を選択してみる => `プロフィールを更新` <br>

+ `http://localhost/blog/author/1/`となる<br>


+ `wp管理画面` => `SEO PACK` => `一般設定` => `その他アーカイブ` => `「著者」のアーカイブページを使用しない` => `はい`を選択すると投稿者ページは作成されなくなるが記事詳細ページにアクセスすると作成者名`tacker_admin`は表示されてしまうのでURLは隠れるように`はい`に設定しておいた方がよい<br>

## 110. 権限グループの種類と各権限のできること

+ `tacker_admin` と `tacker_user_001`の両方のユーザーでログインしておく<br>

+ `tacker_admin`の方で`tacker_user_001`のユーザー権限を変更してみる => `tacker_user_001` => `編集` => `権限グループ` => `編集者`を選択 => `ユーザーを更新` => `tacker_user_001`で`ユーザー管理画面にはアクセスできなくなる(http://localhost/blog/wp-admin/users.php)<br>

+ wp管理画面のメニューには権限を与えられているものしか表示されない<br>

+ `tacker_admin`の方で`tacker_user_001`のユーザー権限を変更してみる => `tacker_user_001` => `編集` => `権限グループ` => `投稿者`を選択 => `ユーザーを更新` => `tacker_user_001`の方でリロードするとまた権限のあるメニューが制限されている<br>

+ `tacker_admin`の方で`tacker_user_001`のユーザー権限を変更してみる => `tacker_user_001` => `編集` => `権限グループ` => `寄稿者`を選択 => `ユーザーを更新` => `tacker_user_001`の方でリロードするとまた権限のあるメニューが制限されている<br>

+ `tacker_admin`の方で権限を`寄稿者`の状態で`投稿` => `新規追加` => `タイトルを追加` => `寄稿者の投稿です`と入力してみる => `公開`(レビュー待ちとして送信となる) => `レビュー待ちとして送信`をクリック => まだこの状態では公開されていない（下記へ続く）<br>

+ 上記の投稿はまだレビュー待ちとなっている => この投稿を決定できるのは権限が `編集者`以上になる => `tacker_admin`の方で => `投稿` => レビュー待ちとなっている投稿をクリックして => `公開` => `公開`とすれば投稿完了となる<br>

+ `tacker_admin`の方で`tacker_user_001`のユーザー権限を変更してみる => `tacker_user_001` => `編集` => `権限グループ` => `購読者`を選択 => `ユーザーを更新` => Dashboardとプロフィールのみアクセスできる<br>

+ `tacker_admin`の方で`設定` => `ディスカッション` => `他のコメント設定` => `ユーザー登録してログインしたユーザーのみコメントをつけられるようにする`等を設定できる(今回チェック入れていない)<br>

## 111. User Role Editorブラグインでユーザー権限をカスタマイズ

+ wp管理画面 => `プラグイン` => `新規追加` => `キーワード` => `user role editor` => `User Role Editor` => `今すぐインストール` => `有効化`<br>

+ wp管理画面 => `ユーザー` => `User Role Editor` => `役割を選択し、権限を変更:` => `投稿者` => `各権限を概説で表示する`にチェックを入れるとほとんどのフィルター内容は日本語化される(わかりづらいので基本的には外しておいた方がいいかも) (下記へ続く)<br>

+ `役割を選択し、権限を変更:` => `投稿者`(固定ページが元は管理できないようになっている) => `権限グループを追加` => `権限グループ名` => `page_editor`を入力してみる => `表示する権限名:` => `固定ページ編集者` => `コピー元` => `投稿者（author）`(下記へ続く) <br>

+ `権限グループを追加` => `クイックフィルター:` => `page` => `全ての項目にチェックを入れてみる` => `更新` => `はい` <br>

+ これで`固定ページ編集者`と言う権限が増えた<br>

+ wp管理画面 => `ユーザー` => `新規追加` => `ユーザー名` => `edit_page`と入れてみる => `メール` => `takaki_5573031@yahoo.co.jp` => `パスワード` => `^3e#YzbM@UFGk*l3GubyC@VI` => `権限グループ` => `固定ページ編集者` => `新規ユーザーを追加` (下記へ続く)<br>

+ `edit_page`アカウントでログインしてみる => `投稿`と`固定ページ`のメニューがある => `管理者に関するメニューはない`(上記で設定した権限の割り当てになっている)<br>

+ 不要になった権限グループは削除することができる => `tacker_admin`の方で => `ユーザー` => `User Role Editor` => `役割を選択し、権限を変更:` => `固定ページ編集者（page_ditor）`(削除というボタンが横に出てこない場合は今現在この権限を使っているということになる) (下記へ続く)<br>

+ `ユーザー` => `edit_page` => `投稿者`(別の権限に変更しておく) => `ユーザーを更新` => `ユーザー` => `User Role Editor` => `役割を選択し、権限を変更:` => `固定ページ編集者（page_ditor）` => `権限グループの削除` => `権限グループの削除` => `OK` => 削除が完了される<br>

## 112. ウィジェット機能でフッターを変更しよう

+ wp管理画面 => `外観` => `ウィジェット` => 今設定しているテーマはtwenty-twenty-oneなのでフッターになっている<br>

+ `外観` => `テーマ` => `twenty-twenty` => `有効化` => `ウィジェット` => `フッター1とフッター2`とエリアが2つに分かれていてテーマによって違う<br>

+ テーマを`twenty-twenty-one`に戻しておく<br>

+ `テーマ` => `ウィジェット` => ブロックエディターになっているので今既存するエリアをすべて削除してみる => 一つだけ`+`ボタンが表示されているようにする => `更新` => サイトを確認してみる(ウィジェットが１つも使われていない状態になる)<br>

+ `テーマ` => `ウィジェット` => `+` => `すべて表示` => `ウィジェット` => `検索` => `⚙` => `ブロック` => `表示設定` => `幅` => `100%``など好みに応じて設定できる => ブロック内の`検索`という文字を変えることもできる`サイト内を探す`を入力してみる(下記へ続く)<br>

+ プレースホルダーの内容も変えられる ・ 検索ボタンのラベルも変更できる ブロックタブからボタン等のデザインを変えることもできる => `更新` => サイトを更新して確認してみる<br>

+ ブロックを追加する時は => `+` => `すべて表示` => `ウィジェット` => `最近の投稿` => 好みに応じてこれも色々変更できる => `更新` => サイトを更新して確認してみる<br>

+ ウィジェットが３つ以上になるとどうなるか => `+` => `すべて表示` => `カレンダー` => `+` => `すべて表示` => `ウィジェット` => `最新のコメント` => `更新` => サイトを更新して確認してみる<br>

## 113. テーマのカスタマイズ機能を使おう

+ wp管理画面 => `外観` => `カスタマイズ` => `現在のテーマ`を変更するとカスタマイズのメニューの内容がテーマによって変わる => `サイト基本情報` => ロゴを設定してみる => サイトアイコンも設定できる (下記へ続く)<br>

+ `色とダークモード` => `背景色` => `色を選択` => カラーバレット等で設定できる => 背景を白などにすると`ダークモード対応`にチェックを入れて設定できる => `背景画像` => 背景画像を設定できる => `メニュー` => 以前設定したグローバルナビ等の編集がここでもできる(下記へ続く) <br>

+ `ウィジェット`もここで`OK`をクリックして編集できる<br>

+ `ホームページ設定は => フロントページのいうものを設定できる => `x` => `OK` => `設定` => `表示設定`でできる内容と同じことができる<br>

+ wp管理画面 => `外観` => `カスタマイズ` => `抜粋の設定`は抜粋の部分を抜粋で表示するのか本文全体を表示するのかを選択できる<br>

+ `追加CSS`は実際にエディタ枠に下記のように記述してみると実際に反映される<br>

```css:sample.css
body {
	color: red;
}
```

+ カスタマイズされた設定は`公開`や`⚙`の中で選択できる`下書き`や`予約公開`とできる(下書き保存してみる) プレビューリンクで表示確認できる<br>

## 114. その他の設定項目

+ wp管理画面 => `設定` => `一般` => `WordPress アドレス（URL）と サイトアドレス（URL）`は場合によっては変わることがある<br>

+ `メンバーシップ`は`だれでもユーザー登録ができるようにする`にチェックを入れることができる(チェックを入れてみる) => `変更を保存` => 別のブラウザで管理画面のログイン画面を確認してみる http://localhost/blog/wp-login.php => `登録`というリングがあるのが確認できる<br>

+ `登録`をクリックするとユーザー登録画面に遷移する => 登録が完了すると`設定` => `一般` => `新規ユーザーのデフォルト権限グループ`に設定された権限グループのユーザーが登録されるのでそれによってコメントなどが行えるようになる<br>

+ `新規ユーザーのデフォルト権限グループ`を`寄稿者`に設定すると誰でも投稿できるユーザーになる<br>

+ wp管理画面 => `設定` => `投稿設定` => `メールでの投稿`や`更新情報`は今ではあまり使用されていない<br>

+ wp管理画面 => `設定` => `表示設定` => `1ページに表示する最大投稿数`は1ページに何件表示するかの設定<br>

+ `RSS/Atom フィードで表示する最新の投稿数` は 1ページの何項目表示するかの設定<br>

+ `フィードの各投稿に含める内容` => フィードを吐き出す際には全文表示するのか抜粋するのかを選択する<br>

+ `検索エンジンでの表示` => チェックが入るとGoogleなどの検索エンジンに登録されない状態になるのでネットに公開する場合はチェックを外しておいた方が良い<br>

+ wp管理画面 => `設定` => `ディスカッション` => 投稿にコメントができるかどうかの設定である => コメントなどをさせないという場合は`デフォルトの投稿設定`のチェックを全て外す チェックを入れている場合には下の全ての設定をする必要がある<br>

+ wp管理画面 => `設定` => `メディア` => 各メディアの大きさの調整ができる<br>

+ wp管理画面 => `設定` => `パーマリンク` => URLの設定ができる<br>

+ wp管理画面 => `設定` => `プライバシー` => WPではプライバシーポリシーの作成を推奨しているがそのページがどこにあるのかを設定するなければ`生成`できる<br>

## 115. WordPressのデータをリセットしよう

+ `wp-config.php`の29行目の `define( 'DB_NAME', 'wordpress')`の `wordpress`を覚えておく<br>

+ MAPMより`WebStart` => `Tools` => `phpMyAdmin` => `wordpress` => `wp_`となっているテーブルに全てチェックを入れる<br>

+ もしバックアップを取っておきたい場合は => `エクスポート` => `詳細` => `出力をファイルに保存する` => `実行`でバックアップをとることができる<br>

+ `チェックしたものを:` => `削除` => `はい` => データベースにはテーブルがありませんと表示されればデータベースは削除されたことになる<br>

+ ファイルを削除するには => 本体ファイルは残してデータファイルのみをリセットするには`wp-content` => `uploads/2022/ディレクトリを削除する(インストールしたテーマやプラグインは引き続き使える)<br>

+ localhost/blog にアクセスしてみる<br>

+ ようこその画面が表示される(初めに設定するWordPressのセットアップ画面)これで綺麗な状態から構築をやることができる<br>
