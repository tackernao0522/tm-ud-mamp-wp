# セクション8: WordPressの使い方を知ろう - ボーナスレクチャー

## 86. MAMPでWordPressのセットアップ

+ https://ja.wordpress.org/ =>  `WordPressを入手` => `すべてのリリース` =>  `5.8ブランチ` => `5.82のzip`をMAMPのhtdocsのフォルダにとりあえずダウンロードして解凍する <br>

+ フォルダ名を`blog`にしておく<br>

+ MAMPを起動して、 `localhost/blog`にアクセスするとWordPressのセットアップ画面に移行する<br>

## 87. WordPressをセットアップしよう②

+ wpセットアップ画面の `さあ、始めましょう！`をクリック <br>

+ `MAMP` => `WebStart` => http://localhost/MAMP/?language=English が開かれるので `MySQL`をクリックすると下記の情報が確認できる<br>

```
Host	localhost
Port	3306
Username	root
Password	root
Socket	/Applications/MAMP/tmp/mysql/mysql.sock
```

+ `phpMyAdmin`を起動する<br>

+ `phpMyAdmin` => `新規作成` => `データベース名` => `wordpress`と入力 => `utf8_general_ci` => `作成`(wpセットアップ画面のデータベース名に今回は合わせた) <br>

+ wpセットアップ画面の `ユーザー名` => `root` => `パスワード` => `root` => `データベースのホスト名` => `localhost` => `テーブル接頭辞` => `wp_` => `送信` => `インストール実行` <br>

+ ようこそ画面 => `サイトのタイトル` => `たかちゃんブログ` => `ユーザー名` => `tacker_admin` => `パスワード` => `Czk68346ggz6kxp3` => `メールアドレス` => `takaproject777@gmail.com`<br>

+ `検索エンジンでの表示`は現時点ではMAMPで起動しているのでチェックは入れても入れなくてもどちらでもよい<br>

+ `WordPressをインストール`をクリック<br>

+ `ログイン`をクリックしてログインする(wp管理画面に移行する)<br>

## 88. 投稿を作成しよう

+ localhost/blog/wp-login.php`でログインする<br>

+ wp管理画面 => `投稿` =>`新規追加` => `タイトルを追加` => `ブログを開設しました`と入力 => `ブロック欄` => `この度、新しいブログを開設しました。`と入力、改行して `これから更新していきますので、よろしくお願いいたします。`と入力<br>

+ `公開` => `公開` => `投稿を表示`<br>

+ wp管理画面 => `投稿` => `ブログを開設しました`をクリックして編集画面へ遷移する<br>

+ wp管理画面 => `投稿` => `新規追加` => `タイトルを追加` => `新しい投稿` => `公開` => `公開` でサイト一覧画面にアクセスすると新しい投稿が追加されている<br>

+ 削除するときは wp管理画面 => `投稿` => `新しい投稿` => `ゴミ箱へ移動` <br>

## 89. 画像を挿入しよう

+ wp管理画面 => `投稿` => `投稿一覧` => `ブログを開設しました` => 本文がここの場合2行挿入してあるのでその行間にマウスを当てると `+`マークが出るのでそれをクリック(ブロックを追加)、とにかく `+`をクリックすればよい => `画像`を選択 => `アップロード` => `適当な画像を選択して開く` => `更新` => `投稿を表示` <br>

+ `画像`も表示されているか確認<br>

+ 管理ツールバーから`投稿を編集` => 画像の部分をクリックして `○`の部分を掴んで大きさを変えることができる<br>

+ `ブロックツールバー`が画像をクリックすると表示されているので`配置を変更`をクリックすると配置を変更できるので`中央揃え`にしてみる => `更新` => `画像を表示`で確認<br>

## 90. 画像の編集機能を使おう

+ wp管理画面 => `メディア` => 編集したい画像を選択 => `画像を編集` => `切り抜き`を適当にやってみる => `保存`(色々やってみよう)<br>

+ svg形式は追加できないので wp管理画面 => `プラグイン` => `新規追加` => `svg`で検索をかける => `SVG Support` => `今すぐインストール` => `有効化` <br>

+ wp管理画面 => `メディア` => `新規追加` => `ファイルを選択` => `svg画像`が選択できるようになっている(適当にsvg画像を選択して) => `開く` => `更新`<br>

## 91. 画像の保存場所と大きさの設定

+ `wp-content/uploads/2022/10`の中にアップロードした画像が配置されている<br>

+ `投稿` => `投稿を作成しよう` => `右側のブロックを選択` => `画像サイズ` => サイズを選ぶことができる<br>

+ wp管理画面 => `設定` => `メディア` => ここで各サイズの本を設定できる<br>

+ wp管理画面 => `プラグイン` => `新規追加` => `thumbnail generator`で検索 => `Real Thumbnail Generator: Efficient regeneration of thumbnails in all sizes` => `今すぐインストール` => `有効化`<br>

+ wp管理画面 => `メディア` => `Regenarate Thumbnails` => `Bulk regenerate` => `Regenarate all attachments` => `Not now` 作ってきた画像が生成され直す<br>

## 92. ブロックエディターを使ってみよう

+ wp管理画面 => `投稿` => `新規追加` => `タイトルを追加` => `エディターについて` => `ブロックに` => `本文です`<br>

+ 小見出しを入れたい場合は 改行して `+`でブロックを追加する => `見出し` => `小見出し`と入力してみる => ここでまた改行すると本文ブロックに戻る => `本文です`を入力してみる<br>

+ 一度入力したいブロックを小見出しにしたり本文に変換したい場合にはブロックツールバーの左側の変換で選択できる<br>

+ `投稿` => `投稿一覧` => `ブログを開設しました` => `プレビュー` => `デスクトップ or タブレット or モバイル`をどのように見えるか確認できる その状態で調整したい箇所をクリックするとブロックツールバーが出るのでそれで調整できる(各サイズで調整していく)<br>

## 93. ブロックエディターの各機能

+ wp管理画面 => `投稿` => `新規追加` => `タイトル` => 空のまま => `ブロック` => `+` => `すべてを表示` => `パターン` => `ポートフォリオリスト等が選択できる` <br>

## グループ化

+ `wp管理画面 => `投稿` => `新規追加` => `ブロック` => `+` => `見出し` => `小見出し`と入力 => 改行して次のブロックに`本文`と入れてみる => `本文`の行と`小見出し`の行をハイライトして `2個のブロックのタイプを変更する`をクリック => `グループ`を選択<br>

+ 最下部にある `文書 -> グループ -> 見出し`となっている `グループ`をクリック => 右側の `ブロック` => `色` => `背景色などを設定できる` => グループ毎にサイコロの6のような目のとこをクリックしながら移動もできる => `グループ化してブロックもブロックツールバーの右端のオプションでグループ解除ができる(解除しておく)`<br>

## 再利用ブロック

+ `小見出し`の行と`本文`の行をハイライトしてブロックツールバーの右端のオプションで`再利用ブロックに追加`をクリック => `再利用ブロックを作成` => `名前` => `見出しと本文`と入力 => `保存`<br>

+ 最下部にブロックを作成する => `+` => `すべて表示` => `再利用可能` => `見出しと本文`をクリック => 指定してブロックに再利用できる<br>

## 94. ブロックエディターとHTMLを組み合わせて使おう

+ `投稿` => `投稿一覧` => `ブログを開設しました` => ヘッダーの歯車マークの右横のオプションをクリック => `コードエディタ` => この状態でHTMLで編集はできるがコメントアウト等をいじってしまうとエラーが出るのでおすすめできない（なので新規追加でやってみる)<br>

+ `投稿` => `新規追加` => `タイトル` => `コードエディターで編集します`と入力 => `HTML記述ブロック`に下記のように記述 => `公開`<br>

```html:sample.html
<h2>見出し</h2>
<ul>
 	<li>箇条書き</li>
 	<li>02></li>
</ul>
本文です
```

+ オプションで`ビジュアルエディター`の戻ることができるがクラッシックというブロックに入っていくようになる<br>

+ 下のブロックを追加して `ブロックエディターで編集したブロックです`を入力してみる<br>

+ この状態でコードエディターに切り替えると下記のようになる<br>

```html:sample.html
<!-- コードエディターで編集した状態 -->
<h2>見出し</h2>
<ul>
<li>箇条書き</li>
<li>02&gt;</li>
</ul>
<p>本文です</p>
<!-- ここまでコードエディターで編集した状態 -->

<!-- ここからブロックエディタで編集した状態 -->
<!-- wp:paragraph --> <!-- このコメントアウトはいじってはだめ-->
<p>ブロックエディターで編集したブロックです</p>
<!-- /wp:paragraph --> <!-- このコメントアウトはいじってはだめ-->
<!-- ここまでブロックエディタで編集した状態 -->
```

+ `コードエディターを終了`でコードエディタとブロックエディタで同居することになる<br>

## もう少し手軽にHTMLで書く

+ 新ブロックで `+` => `すべて表示` => `カスタムHTML` => 下記のように記述 => `プレビュー` でどのように表示されるか確認できる => `更新` => `投稿を表示`<br>

```sample.html
<h2>見出しです</h2>
<p>本文です</p>
```

クラシックエディターは`ブロックへ変換`でブロック変換できる `見出し`の部分は見出しブロックに`箇条書き`の部分は`箇条書きブロック`に`本文`の部分は`段落ブロック`に変換される(自動で判断される)想定通りに表示されない時もあるのでバックアップをとってから実行した方が良い<br>


## 95. 記事のアドレスを決めるパーマリンクを設定しよう

+ wp管理画面 => `投稿` => `新規追加` => `タイトルを追加` => `新しい記事です`と入力 => `公開` => `公開` => `投稿を表示`<br>

+ URLは http://localhost/blog/2022/10/10/新しい記事です/ となる <br>

+ 新しい投稿で再度同じタイトルを作成してみる<br>

+ URLは http://localhost/blog/2022/10/10/新しい記事です-2/ となる<br>

+ 全ての記事においてURLはユニークなものになる<br>

しかし、このままのURLだと冗長であり階層が深くなってしまう。SEO的にもできるだけ浅い方が良い<br>

+ wp管理画面 => `設定` => `パーマリンク` => `月と投稿名`を選択して => `カスタム構造`の`/%year%/%monthnum%/%postname%/`の`%postname%/`の部分を削除して`/%year%/%monthnum%/`としてその後ろに`%post_id%/`を追加して `/%year%/%monthnum%/%post_id%/`とする => その状態で`カスタム投稿`を選択する<br>

+ `変更を保存`<br>

+ `投稿` => `新しい記事です` => `表示`<br>

+ URLは http://localhost/blog/2022/10/49/ となる<br>

## 96. アイキャッチ画像を設定しよう

+ wp管理画面 => `投稿` => `投稿一覧` => `ブログを開設しました` => `編集` => ヘッダーの⚙マーク`設定` => `アイキャッチ画像` => `アイキャッチ画像を設定` => `適当に画像を選択` => `アイキャッチ画像を設定` => `更新` => `トップページを表示してみる`<br>

+ アイキャッチ画像の部分をクリックすると詳細ページに遷移する<br>

## 97. カテゴリーで投稿を分類しよう

+ wp管理画面 => `投稿` => `投稿一覧` => `ブログを開設しました` => `編集` => ⚙マーク => `カテゴリー` => デフォルトで`未分類`に入れられている<br>

+ wp管理画面 => `投稿` => `新規追加` => `タイトルを追加` => `新しい記事です`と入力 => `⚙マーク` => `カテゴリー` => この時点では未分類にチェックは入っていない => `公開` => `公開` => `投稿を表示` => 下の部分を確認してみると `カテゴリー: 未分類`となっている<br>

+ 上記の投稿編集画面に行くと `カテゴリー`の`未分類`にチェックが入っている<br>

+ `新規カテゴリーを追加` => `新規カテゴリー名` => `お知らせ`と入力 => `新規カテゴリーを追加` => `未分類`のチェックを外す => `更新` => `投稿を表示`<br>

+ カテゴリーは`お知らせ`に変更されている<br>

+ 作ったカテゴリーに関しては wp管理画面 => `投稿` => `カテゴリー` で一覧することができる<br>

+ wp管理画面 => `設定` => `投稿設定` => `投稿用カテゴリーの初期設定` => `お知らせ` => `変更を保存` => `投稿` => `カテゴリー` これで`未分類`カテゴリーを削除することができる。代わりに`お知らせ`カテゴリーが削除できなくなる<br>

+ `未分類`カテゴリーを削除してみる。この状態で`投稿一覧`を確認してみるとカテゴリーは全て`お知らせ`になる<br>

+ `お知らせ`カテゴリーページのURLは http://localhost/blog/category/お知らせ/ になっている<br>

+ wp管理画面 => `投稿` => `カテゴリー` => `お知らせ` => `編集` => `スラッグ` => `news` => `更新`<br>

+ URLは http://localhost/blog/category/news/ となる<br>

+ wp管理画面 => `設定` => `パーマリンク` => `オプション` => `カテゴリーベース` => `topics`を入力してみる => `変更を保存`<br>

+ カテゴリーURLは http://localhost/blog/topics/news/ となる<br>

+ wp管理画面 => `投稿` => `カテゴリー` => `新規カテゴリーを追加` => `名前` => `ニュースリリース`と入力 => `スラッグ` => `release`と入力 => `親カテゴリー` => `お知らせ` => `新規カテゴリーを追加`<br>

+ wp管理画面 => `投稿` => `新規追加` => `タイトルを追加` => `ニュースリリースの記事`と入力 => `⚙マーク` => `カテゴリー` => `ニュースリリース`にチェック => `公開` => `公開` => `投稿を表示`<br>

+ URLは http://localhost/blog/topics/news/release/ のようになる。 `news`は親カテゴリーのスラッグ<br>

+ http://localhost/blog/topics/news/ にアクセスしてみる<br>

+ `ニュースリリースの記事`の記事がカテゴリーとしては `ニュースリリース`であるが`news`カテゴリー`にも分類されている <br>

+ wp管理画面 => `投稿` => `カテゴリー` => `新規カテゴリーを追加` => `名前` => `ブログ` => `スラッグ` => `blog` => `親カテゴリー` => `なし`の状態 => `新規カテゴリーを追加`<br>

+ `お知らせ`と同じ階層に`ブログ`ができる<br>
